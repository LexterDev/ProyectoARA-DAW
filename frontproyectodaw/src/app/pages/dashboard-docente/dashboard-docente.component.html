<div class="bg-white p-6 w-full rounded-md shadow-md">

  <mat-tab-group>
    <mat-tab label="Perfil">
      <div class="p-4">
        <h2 class="text-xl font-semibold">Bienvenido</h2>
        <p class="text-sm text-gray-600">He aquí tus últimos movimientos</p>
      </div>
    </mat-tab>

    <mat-tab label="Recursos Estudiantes">
      <div class="p-4">
        <p>Aquí se encuentran todos los Libros, Videos y Documentos que los estudiantes han subido y quieren subir.</p>

        <!-- Recursos Subidos -->
        <h3>Recursos Subidos</h3>
        <table mat-table [dataSource]="uploadedResources" class="mat-elevation-z8 w-full mb-6">
          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> Título </th>
            <td mat-cell *matCellDef="let element"> {{element.title}} </td>
          </ng-container>

          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef> Tipo </th>
            <td mat-cell *matCellDef="let element"> {{element.type}} </td>
          </ng-container>

          <ng-container matColumnDef="uploadedBy">
            <th mat-header-cell *matHeaderCellDef> Subido por </th>
            <td mat-cell *matCellDef="let element"> {{element.uploadedBy}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="uploadedDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: uploadedDisplayedColumns;"></tr>
        </table>

        <!-- Recursos Pendientes -->
        <h3>Recursos Pendientes de Aprobación</h3>
        <table mat-table [dataSource]="pendingResources" class="mat-elevation-z8 w-full">
          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> Título </th>
            <td mat-cell *matCellDef="let element"> {{element.title}} </td>
          </ng-container>

          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef> Tipo </th>
            <td mat-cell *matCellDef="let element"> {{element.type}} </td>
          </ng-container>

          <ng-container matColumnDef="submittedBy">
            <th mat-header-cell *matHeaderCellDef> Propuesto por </th>
            <td mat-cell *matCellDef="let element"> {{element.submittedBy}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="pendingDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: pendingDisplayedColumns;"></tr>
        </table>
      </div>
    </mat-tab>

    <mat-tab label="Recursos Docente">
      Content 3
    </mat-tab>
  </mat-tab-group>

  <br>

  <!-- Botón añadir recurso -->
  <mat-card appearance="outlined">
    <mat-card-actions align="end">
      <button mat-flat-button color="primary" (click)="openResourceDialog()">
        Añadir recurso
      </button>
    </mat-card-actions>
  </mat-card>

  <br>

  <!-- nueva parte: Botón para ver favoritos -->
  <div class="flex justify-end my-4">
    <button mat-stroked-button color="accent" (click)="verFavoritos()">
      Ver recursos favoritos
    </button>
  </div>
  <!-- fin nueva parte -->

  <!-- nueva parte: Tabla con botón de favorito -->
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 w-full">

    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef> No. </th>
      <td mat-cell *matCellDef="let element"> {{element.position}} </td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Libros </th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <ng-container matColumnDef="weight">
      <th mat-header-cell *matHeaderCellDef> Videos </th>
      <td mat-cell *matCellDef="let element"> {{element.weight}} </td>
    </ng-container>

    <ng-container matColumnDef="symbol">
      <th mat-header-cell *matHeaderCellDef> Documentos </th>
      <td mat-cell *matCellDef="let element"> {{element.symbol}} </td>
    </ng-container>

    <ng-container matColumnDef="favorito">
      <th mat-header-cell *matHeaderCellDef> </th>
      <td mat-cell *matCellDef="let recurso">
        <button mat-icon-button (click)="toggleFavorito(recurso)">
          <mat-icon [ngClass]="recurso.favorito ? 'text-red-600' : 'text-gray-500'">
            {{ recurso.favorito ? 'favorite' : 'favorite_border' }}
          </mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsWithFav"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsWithFav;"></tr>

  </table>
  <!-- fin nueva parte -->

</div>
